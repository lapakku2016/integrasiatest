{"ast":null,"code":"var _jsxFileName = \"D:\\\\learning\\\\react\\\\integrasia\\\\src\\\\components\\\\websites.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass Websites extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: []\n    };\n    this.headers = [{\n      key: 'id',\n      label: 'Id'\n    }, {\n      key: 'name',\n      label: 'Name'\n    }, {\n      key: 'role',\n      label: 'Role'\n    }];\n    this.deleteWebsite = this.deleteWebsite.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('/users').then(response => {\n      return response.json();\n    }).then(result => {\n      console.log(result);\n      this.setState({\n        users: result\n      });\n    });\n  }\n\n  deleteWebsite(id) {\n    if (window.confirm(\"Are you sure want to delete?\")) {\n      fetch('http://localhost/ci-3-1-9/index.php/websiterestcontroller/delete_website/' + id, {\n        method: 'DELETE'\n      }).then(response => {\n        if (response.status === 200) {\n          alert(\"Website deleted successfully\");\n          fetch('http://localhost/ci-3-1-9/index.php/websiterestcontroller/websites').then(response => {\n            return response.json();\n          }).then(result => {\n            console.log(result);\n            this.setState({\n              websites: result\n            });\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Add Website\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, this.headers.map(function (h) {\n      return React.createElement(\"th\", {\n        key: h.key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, h.label);\n    }), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Actions\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.users.map(function (item, key) {\n      return React.createElement(\"tr\", {\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, item.id), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, item.name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, item.role_name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/update/\".concat(item.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Edit\"), React.createElement(\"a\", {\n        href: \"javascript:void(0);\",\n        onClick: this.deleteWebsite.bind(this, item.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Delete\")));\n    }.bind(this)))));\n  }\n\n}\n\nexport default Websites;","map":{"version":3,"sources":["D:\\learning\\react\\integrasia\\src\\components\\websites.js"],"names":["React","Link","Websites","Component","constructor","props","state","users","headers","key","label","deleteWebsite","bind","componentDidMount","fetch","then","response","json","result","console","log","setState","id","window","confirm","method","status","alert","websites","render","map","h","item","name","role_name"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Websites extends React.Component {\r\n    \r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {users: []};\r\n\t\tthis.headers = [\r\n\t\t\t{ key: 'id', label: 'Id'},\r\n\t\t\t{ key: 'name', label: 'Name' },\r\n\t\t\t{ key: 'role', label: 'Role' }\r\n\t\t];\r\n\t\tthis.deleteWebsite = this.deleteWebsite.bind(this);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tfetch('/users')\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t}).then(result => {\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tusers:result\r\n\t\t\t\t});\r\n\t\t\t});\r\n    }\r\n    \r\n\t\r\n\tdeleteWebsite(id) {\r\n\t\tif(window.confirm(\"Are you sure want to delete?\")) {\r\n\t\t\tfetch('http://localhost/ci-3-1-9/index.php/websiterestcontroller/delete_website/' + id, {\r\n                                method : 'DELETE'\r\n                                   }).then(response => { \r\n\t\t\t\t\tif(response.status === 200) {\r\n\t\t\t\t\t\talert(\"Website deleted successfully\");\r\n                                                fetch('http://localhost/ci-3-1-9/index.php/websiterestcontroller/websites')\r\n\t\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\t\treturn response.json();\r\n\t\t\t\t\t\t}).then(result => {\r\n\t\t\t\t\t\t\tconsole.log(result);\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\twebsites:result\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} \r\n\t\t\t });\r\n\t\t}\r\n    }\r\n    \r\n\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"container\">\r\n\t\t\t\t<Link to=\"/create\">Add Website</Link>\r\n\t\t\t\t<p/>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.headers.map(function(h) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<th key = {h.key}>{h.label}</th>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  <th>Actions</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.users.map(function(item, key) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<tr key = {key}>\r\n\t\t\t\t\t\t\t\t  <td>{item.id}</td>\r\n\t\t\t\t\t\t\t\t  <td>{item.name}</td>\r\n\t\t\t\t\t\t\t\t  <td>{item.role_name}</td>\r\n\t\t\t\t\t\t\t\t  <td>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/update/${item.id}`}>Edit</Link>\r\n\t\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" onClick={this.deleteWebsite.bind(this, item.id)}>Delete</a>\r\n\t\t\t\t\t\t\t\t  </td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}.bind(this))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Websites;"]},"metadata":{},"sourceType":"module"}